<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.mindgraph.controller.NotepadController"
            prefWidth="1000" prefHeight="700" styleClass="app-root">

    <top>
        <VBox>
            <!-- Note title and settings -->
            <HBox spacing="10" alignment="CENTER_LEFT" styleClass="note-header">
                <padding>
                    <Insets top="8" right="8" bottom="8" left="8"/>
                </padding>

                <Label text="Title:"/>
                <TextField fx:id="txtTitle" promptText="Enter note title..." HBox.hgrow="ALWAYS"/>

                <Label text="Difficulty:"/>
                <ComboBox fx:id="cmbDifficulty" prefWidth="80"/>

                <Label text="Font:"/>
                <ComboBox fx:id="cmbFontFamily" prefWidth="150"/>

                <Label text="Font Size:"/>
                <Spinner fx:id="spinnerFont" prefWidth="80"/>

                <Label text="Text Color:"/>
                <ColorPicker fx:id="cpTextColor" prefWidth="100"/>

                <Label text="Highlight:"/>
                <ColorPicker fx:id="cpHighlight" prefWidth="100"/>

                <Button fx:id="btnAddImage" text="Add Image" onAction="#onAddImage"/>
            </HBox>

            <!-- Main toolbar -->
            <ToolBar styleClass="topbar">
                <Button fx:id="btnNew" text="New" onAction="#onNew"/>
                <Button fx:id="btnOpen" text="Open" onAction="#onOpen"/>
                <Button fx:id="btnSave" text="Save" onAction="#onSave"/>

                <Separator orientation="VERTICAL"/>

                <ToggleButton fx:id="toggleEdit" text="Edit Mode" selected="true" onAction="#onToggleEdit"/>
                <Button fx:id="btnFind" text="Find" onAction="#onFind"/>
                <Button fx:id="btnRep" text="Replace" onAction="#onReplace"/>

                <Separator orientation="VERTICAL"/>

                <!-- Formatting buttons -->
                <Button fx:id="btnBold" text="B" onAction="#onBold" styleClass="fmt-btn"/>
                <Button fx:id="btnItalic" text="I" onAction="#onItalic" styleClass="fmt-btn"/>
                <Button fx:id="btnUnderline" text="U" onAction="#onUnderline" styleClass="fmt-btn"/>

                <!-- Alignment buttons -->
                <Button fx:id="btnAlignLeft" text="Left" onAction="#onAlignLeft"/>
                <Button fx:id="btnAlignCenter" text="Center" onAction="#onAlignCenter"/>
                <Button fx:id="btnAlignRight" text="Right" onAction="#onAlignRight"/>

                <Pane HBox.hgrow="ALWAYS"/>
                <Label fx:id="lblSaved" text="● Unsaved" styleClass="unsaved-dot"/>
            </ToolBar>
        </VBox>
    </top>

    <center>
        <!-- Editor area wrapped in ScrollPane -->
        <ScrollPane fitToWidth="true" fitToHeight="true" BorderPane.alignment="CENTER">
            <StackPane fx:id="editorHost"/>
        </ScrollPane>
    </center>

    <bottom>
        <HBox spacing="16" alignment="CENTER_LEFT" styleClass="statusbar">
            <padding>
                <Insets top="8" right="8" bottom="8" left="8"/>
            </padding>

            <Label fx:id="lblTitle" text="Untitled"/>
            <Pane HBox.hgrow="ALWAYS"/>
            <Label fx:id="lblCursor" text="Ln 1, Col 1"/>
            <Label fx:id="lblWords" text="Words: 0"/>
            <Label fx:id="lblChars" text="Chars: 0"/>
        </HBox>
    </bottom>
</BorderPane>